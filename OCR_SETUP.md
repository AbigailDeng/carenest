# OCR 功能设置说明

## 安装依赖

为了使用图片OCR（光学字符识别）功能，需要安装 `tesseract.js` 库：

```bash
npm install tesseract.js
```

## 功能说明

现在应用支持以下功能：

1. **图片文字识别**：上传图片时，会自动使用 Tesseract.js 识别图片中的文字
2. **多语言支持**：默认支持简体中文和英文（`chi_sim+eng`）
3. **进度显示**：OCR处理过程中会显示进度条和百分比
4. **自动AI分析**：识别出的文字会自动发送给AI进行分析和建议

## 工作流程

1. 用户上传图片文件
2. 系统自动进行OCR识别，显示进度
3. OCR完成后，提取的文字内容被保存
4. 提取的文字内容发送给AI进行分析
5. AI返回医疗记录摘要和建议

## 语言配置

如果需要更改OCR识别的语言，可以在 `src/services/fileUpload.ts` 中修改：

```typescript
// 当前配置：简体中文 + 英文
await Tesseract.recognize(imageUrl, 'chi_sim+eng', {...});

// 可选配置：
// - 'eng' - 仅英文
// - 'chi_tra+eng' - 繁体中文 + 英文
// - 'chi_sim' - 仅简体中文
```

## 注意事项

- OCR识别需要一些时间，特别是大图片或复杂图片
- 识别准确度取决于图片质量和清晰度
- 首次使用时，Tesseract.js 会下载语言数据文件（约几MB）
- 建议使用清晰、高对比度的图片以获得最佳识别效果


